#pragma once

#include "main.h"

#define BMI088_ACC_SOFTRESET_REG 0x7E
#define BMI088_ACC_SOFTRESET_VALUE 0xB6
#define BMI088_GYRO_SOFTRESET_REG 0x14
#define BMI088_GYRO_SOFTRESET_VALUE 0xB6

#define BMI088_ACC_Z_MSB_REG 0x17
#define BMI088_ACC_Z_LSB_REG 0x16
#define BMI088_ACC_Y_MSB_REG 0x15
#define BMI088_ACC_Y_LSB_REG 0x14
#define BMI088_ACC_X_MSB_REG 0x13
#define BMI088_ACC_X_LSB_REG 0x12
#define BMI088_ACC_OUT_REG BMI088_ACC_X_LSB_REG

#define BMI088_ACC_PWR_CFG_REG 0x7C
#define BMI088_ACC_PWR_CFG_SUSPEND 0x03
#define BMI088_ACC_PWR_CFG_ACTIVE 0x00
#define BMI088_ACC_PWR_CTRL_REG 0x7D
#define BMI088_ACC_PWR_CTRL_ON 0x04
#define BMI088_ACC_PWR_CTRL_OFF 0x00

#define BMI088_ACC_RANGE_REG 0x41
#define BMI088_ACC_RANGE_3G 0x00
#define BMI088_ACC_RANGE_6G 0x01
#define BMI088_ACC_RANGE_12G 0x02
#define BMI088_ACC_RANGE_24G 0x03

#define BMI008_ACC_CONF_REG 0x40
#define BMI088_ACC_CONF_BWP_OSR4 0x00
#define BMI088_ACC_CONF_BWP_OSR2 0x01
#define BMI088_ACC_CONF_BWP_NORM 0x02
#define BMI088_ACC_CONF_ODR_12_5_Hz 0x05
#define BMI088_ACC_CONF_ODR_25_Hz 0x06
#define BMI088_ACC_CONF_ODR_50_Hz 0x07
#define BMI088_ACC_CONF_ODR_100_Hz 0x08
#define BMI088_ACC_CONF_ODR_200_Hz 0x09
#define BMI088_ACC_CONF_ODR_400_Hz 0x0A
#define BMI088_ACC_CONF_ODR_800_Hz 0x0B
#define BMI088_ACC_CONF_ODR_1600_Hz 0x0C

#define BMI088_GYRO_Z_MSB_REG 0x07
#define BMI088_GYRO_Z_LSB_REG 0x06
#define BMI088_GYRO_Y_MSB_REG 0x05
#define BMI088_GYRO_Y_LSB_REG 0x04
#define BMI088_GYRO_X_MSB_REG 0x03
#define BMI088_GYRO_X_LSB_REG 0x02
#define BMI088_GYRO_OUT_REG BMI088_GYRO_X_LSB_REG

#define BMI088_TEMPRATURE_LSB_REG 0x23
#define BMI088_TEMPRATURE_MSB_REG 0x22
#define BMI088_TEMPRATURE_OUT_REG BMI088_TEMPRATURE_MSB_REG

#define BMI088_CHIP_ID_REG 0x00
#define BMI088_ACC_CHIP_ID_VALUE 0x1E
#define BMI088_GYRO_CHIP_ID_VALUE 0x0F

#define BMI088_GYRO_RANGE_REG 0x0F
#define BMI088_GYRO_RANGE_2000_DEG_S 0x00
#define BMI088_GYRO_RANGE_1000_DEG_S 0x01
#define BMI088_GYRO_RANGE_500_DEG_S 0x02
#define BMI088_GYRO_RANGE_250_DEG_S 0x03
#define BMI088_GYRO_RANGE_125_DEG_S 0x04

#define BMI088_GYRO_BANDWIDTH_REG 0x10
#define BMI088_GYRO_ODR_2000Hz_BANDWIDTH_532Hz 0x00
#define BMI088_GYRO_ODR_2000Hz_BANDWIDTH_230Hz 0x01
#define BMI088_GYRO_ODR_1000Hz_BANDWIDTH_116Hz 0x02
#define BMI088_GYRO_ODR_400Hz_BANDWIDTH_47Hz 0x03
#define BMI088_GYRO_ODR_200Hz_BANDWIDTH_23Hz 0x04
#define BMI088_GYRO_ODR_100Hz_BANDWIDTH_12Hz 0x05
#define BMI088_GYRO_ODR_200Hz_BANDWIDTH_64Hz 0x06
#define BMI088_GYRO_ODR_100Hz_BANDWIDTH_32Hz 0x07

#define BMI088_READ 0x80
#define BMI088_WRITE 0x00

#define ENABLE_ACC() \
    HAL_GPIO_WritePin(CS1_Accel_GPIO_Port, CS1_Accel_Pin, GPIO_PIN_RESET)
#define DISABLE_ACC() \
    HAL_GPIO_WritePin(CS1_Accel_GPIO_Port, CS1_Accel_Pin, GPIO_PIN_SET)
#define ENABLE_GYRO() \
    HAL_GPIO_WritePin(CS1_Gyro_GPIO_Port, CS1_Gyro_Pin, GPIO_PIN_RESET)
#define DISABLE_GYRO() \
    HAL_GPIO_WritePin(CS1_Gyro_GPIO_Port, CS1_Gyro_Pin, GPIO_PIN_SET)

#define BMI088_ACC_3G_SEN 0.0008974358974f
#define BMI088_ACC_6G_SEN 0.00179443359375f
#define BMI088_ACC_12G_SEN 0.0035888671875f
#define BMI088_ACC_24G_SEN 0.007177734375f
#define BMI088_ACC_SEN BMI088_ACC_3G_SEN

#define BMI088_GYRO_2000_SEN 0.00106526443603169529841533860381f
#define BMI088_GYRO_1000_SEN 0.00053263221801584764920766930190693f
#define BMI088_GYRO_500_SEN 0.00026631610900792382460383465095346f
#define BMI088_GYRO_250_SEN 0.00013315805450396191230191732547673f
#define BMI088_GYRO_125_SEN 0.000066579027251980956150958662738366f
#define BMI088_GYRO_SEN BMI088_GYRO_2000_SEN